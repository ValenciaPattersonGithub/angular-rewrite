<div class="soarWidget openClinicalNotes">
    <!-- <div class="text-align-center text-muted widget-loader" *ngIf="loading">
        <i id="iDefaultMessage" class="fa fa-spinner fa-spin fa-2x loading"></i>
    </div> -->
    <div class="widget-handle panel-heading landingContainer__heading soarWidget__header openClinicalNotes__header">
        <label class="note-count">{{openClinicalNotes?.length}}</label>
        <label class="label"> - </label>
        <label>{{data?.Title | translate}}</label>
        <div class="filterRow">
            <div class="dropdownWrapper">
                <div class="soarSelectList" *ngIf="locationOptions.length">
                    <kendo-dropdownlist
                        id="inpOpenClinNoteWidgetLocation" 
                        [data]="locationOptions"
                        [textField]="'NameLine1'"
                        [valueField]="'LocationId'" 
                        [tabIndex]="'12'"
                        [(ngModel)]="selectedLocation.LocationId"
                        [valuePrimitive]="true"
                        (valueChange)="onLocationSelectedChange($event)"
                        (selectionChange)="onSelectionChangedByKey($event)"
                        ngDefaultControl #locationdropdown clickOutside (clickOutside)="clickedOutside(locationdropdown)">
                    </kendo-dropdownlist> 
                </div>
            </div>
            <div class="dropdownWrapper">
                <provider-selector id="inpOpenClinNoteWidgetProvider"
                [filterByLocationId]="locationIdsForProviderDropdown" [exceptionProviderId]="currentUserId"
                [setPreferred]="false" [providerTypeIds]="[1,2,3,5]" [filterShowOnSchedule]="false"
                [filterInactiveProviders]="true" [(selectedProvider)]="selectedProvider.ProviderId"
                (providerChanged)="assignedProviderChanged($event)" [defaultItemText]="'All Providers'" [sortForClinicalNotes]="'false'" [openClinicalNotes]="true">
            </provider-selector>
            </div>
        </div>
    </div>
    <div class="soarWidget__body">
        <table class="table">
            <thead>
                <tr>
                    <th class="patient">{{'Patient' | translate}}</th>
                    <th class="note">{{'Note' | translate}}</th>
                    <th class="time-left">{{'Time Left' | translate}}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let x of openClinicalNotes">
                    <td title="{{x?.PatientName}}" class="patient">{{x?.PatientName | translate }}</td>
                    <td title="{{x?.NoteTitle}}" class="note"><a (click)="openPatientTab(x?.PatientId)">{{x?.NoteTitle |
                            translate }}</a>
                    </td>
                    <td title="{{x?.TimeLeft}}" class="time-left">{{x?.TimeLeft | translate }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>